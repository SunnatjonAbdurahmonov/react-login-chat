(this["webpackJsonpreact-chat"]=this["webpackJsonpreact-chat"]||[]).push([[0],{102:function(e,t,n){},115:function(e,t,n){"use strict";n.r(t),n.d(t,"Context",(function(){return U}));var a=n(4),c=n(29),r=n.n(c),i=(n(102),n(22)),s=(n(75),n(60)),o=n(146),j=n(149),d=n(155),l=n(150),u="/login",h="/chat",b=n(49),p=n(19);function O(){var e=Object(a.useContext)(U).auth,t=Object(b.a)(e),n=Object(i.a)(t,1)[0];return Object(p.jsx)("div",{children:Object(p.jsx)(o.a,{position:"static",children:Object(p.jsxs)(j.a,{variant:"dense",children:[Object(p.jsx)("h3",{children:"Sunnatjon"}),Object(p.jsx)(l.a,{container:!0,justify:"flex-end",children:n?Object(p.jsx)(d.a,{onClick:function(){return e.signOut()},variant:"outlined",children:"EXIT"}):Object(p.jsx)(s.b,{to:u,children:Object(p.jsx)(d.a,{variant:"outlined",children:"LOGIN"})})})]})})})}var x=n(31),g=n(0),f=n.n(g),v=n(3),m=n(151),y=n(154),C=n(47);var w=function(){var e=Object(a.useContext)(U).auth,t=function(){var t=Object(v.a)(f.a.mark((function t(){var n,a,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new C.a.auth.GoogleAuthProvider,t.next=3,e.signInWithPopup(n);case 3:a=t.sent,c=a.user,console.log(c);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(p.jsx)(m.a,{children:Object(p.jsx)(l.a,{container:!0,alignItems:"center",justifyContent:"center",style:{height:window.innerHeight-50},children:Object(p.jsx)(l.a,{style:{width:400,background:"lightgray"},container:!0,alignItems:"center",justifyContent:"center",children:Object(p.jsx)(y.a,{p:5,children:Object(p.jsx)(d.a,{onClick:t,variant:"outlined",children:"Login With Google"})})})})})},I=n(156),k=n(152),L=n(87);var A=function(){return Object(p.jsx)(m.a,{children:Object(p.jsx)(l.a,{container:!0,alignItems:"center",justify:"center",style:{height:window.innerHeight-50},children:Object(p.jsx)(l.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(p.jsx)("div",{className:"loadingio-spinner-eclipse-zmhsiiiy0at",children:Object(p.jsx)("div",{className:"ldio-dz7k6orv7k7",children:Object(p.jsx)("div",{})})})})})})};var N=[{path:u,Component:w}],R=[{path:h,Component:function(){var e=Object(a.useContext)(U),t=e.auth,n=e.firestore,c=Object(b.a)(t),r=Object(i.a)(c,1)[0],s=Object(a.useState)(""),o=Object(i.a)(s,2),j=o[0],u=o[1],h=Object(L.a)(n.collection("messages").orderBy("createdAt")),O=Object(i.a)(h,2),x=O[0],g=O[1],y=function(){var e=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.collection("messages").add({uid:r.uid,displayName:r.displayName,photoURL:r.photoURL,text:j,createdAt:C.a.firestore.FieldValue.serverTimestamp()}),u("");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return g?Object(p.jsx)(A,{}):Object(p.jsx)(m.a,{children:Object(p.jsxs)(l.a,{container:!0,style:{height:window.innerHeight-50,marginTop:10},justifyContent:"center",children:[Object(p.jsx)("div",{style:{width:"80%",height:"60vh",border:"1px solid gray",overflowX:"auto",background:"linear-gradient(-45deg, #39249a, #e14e42)"},children:x.map((function(e){return Object(p.jsxs)("div",{style:{margin:10,backgroundColor:r.uid===e.uid?"rgba(255, 255, 255, 0.7)":"rgba(228, 83, 167, 0.549)",marginLeft:r.uid===e.uid?"auto":"10px",width:"40%",padding:5,borderRadius:"10px"},children:[Object(p.jsxs)(l.a,{container:!0,style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(p.jsx)(I.a,{src:e.photoURL}),Object(p.jsxs)("div",{children:[" ",e.displayName," "]})]}),Object(p.jsxs)("div",{style:{marginTop:7},children:[" ",e.text," "]})]})}))}),Object(p.jsxs)(l.a,{container:!0,direction:"column",alignItems:"flex-end",style:{width:"80%"},children:[Object(p.jsx)(k.a,{onChange:function(e){return u(e.target.value)},value:j,placeholder:"Message",fullWidth:!0,variant:"outlined"}),Object(p.jsx)(d.a,{onClick:y,variant:"outlined",style:{background:"green",marginTop:5,color:"white"},children:"Send Message"})]})]})})}}];var S=function(){var e=Object(a.useContext)(U).auth,t=Object(b.a)(e),n=Object(i.a)(t,1)[0];return console.log(n),n?Object(p.jsxs)(x.d,{children:[R.map((function(e){var t=e.path,n=e.Component;return Object(p.jsx)(x.b,{path:t,component:n,exact:!0},t)})),Object(p.jsx)(x.a,{to:h})]}):Object(p.jsxs)(x.d,{children:[N.map((function(e){var t=e.path,n=e.Component;return Object(p.jsx)(x.b,{path:t,component:n,exact:!0},t)})),Object(p.jsx)(x.a,{to:u})]})};var T=function(){var e=Object(a.useContext)(U).auth,t=Object(b.a)(e),n=Object(i.a)(t,3),c=(n[0],n[1]);return n[2],c?Object(p.jsx)(A,{}):Object(p.jsxs)(s.a,{children:[Object(p.jsx)(O,{}),Object(p.jsx)(S,{})]})};n(114),n(116);C.a.initializeApp({apiKey:"AIzaSyDCDBUg1ghQ3MpJQEpXhWIJ7H5UnDeigoA",authDomain:"react-login-chat.firebaseapp.com",projectId:"react-login-chat",storageBucket:"react-login-chat.appspot.com",messagingSenderId:"955663512254",appId:"1:955663512254:web:dc0dd0e92d858efa57e4ef",measurementId:"G-L27RFR6V8X"});var U=Object(a.createContext)(null),z=C.a.auth(),B=C.a.firestore();r.a.render(Object(p.jsx)(U.Provider,{value:{firestore:B,auth:z,firebase:C.a},children:Object(p.jsx)(T,{})}),document.getElementById("root"))},75:function(e,t,n){}},[[115,1,2]]]);
//# sourceMappingURL=main.1f871923.chunk.js.map